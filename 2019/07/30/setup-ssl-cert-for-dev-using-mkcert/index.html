<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setup SSL cert for dev environment with mkcert | Junlapong&#39;s Blog</title>
    <meta name="description" content="‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö web server ‡πÅ‡∏ö‡∏ö https ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞ gen self sign cert ‡πÄ‡∏ä‡πà‡∏ô  ‡πÉ‡∏ä‡πâ openssl ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î DNS ‡πÅ‡∏ö‡∏ö SAN ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡πá‡∏à‡∏∞‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏û‡∏≠‡πÄ‡∏õ‡∏¥‡∏î URL ‡∏î‡πâ‡∏ß‡∏¢ web browser ‡∏Å‡πá‡∏à‡∏∞‡πÇ‡∏î‡∏ô‡∏î‡πà‡∏≤‡∏ï‡∏•‡∏≠‡∏î‡∏ß‡πà‡∏≤‡∏´‡∏ô ...">
    <link rel="icon" href="/blog/favicon.png">
  <link rel="manifest" href="/blog/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/blog/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e22947dd.css" as="style"><link rel="preload" href="/blog/assets/js/app.4718c9bd.js" as="script"><link rel="preload" href="/blog/assets/js/4.256dfcde.js" as="script"><link rel="preload" href="/blog/assets/js/5.6a38e0c8.js" as="script"><link rel="preload" href="/blog/assets/js/19.f8d03eba.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.bf967b39.js"><link rel="prefetch" href="/blog/assets/js/10.191182c8.js"><link rel="prefetch" href="/blog/assets/js/11.3d77dfc7.js"><link rel="prefetch" href="/blog/assets/js/12.b12ed0b3.js"><link rel="prefetch" href="/blog/assets/js/13.8554de83.js"><link rel="prefetch" href="/blog/assets/js/14.a388cf9a.js"><link rel="prefetch" href="/blog/assets/js/15.27586e5c.js"><link rel="prefetch" href="/blog/assets/js/16.7707c95a.js"><link rel="prefetch" href="/blog/assets/js/17.c826d203.js"><link rel="prefetch" href="/blog/assets/js/18.3d0034b2.js"><link rel="prefetch" href="/blog/assets/js/20.4e4de5b0.js"><link rel="prefetch" href="/blog/assets/js/21.d77ffa26.js"><link rel="prefetch" href="/blog/assets/js/22.92bc71d1.js"><link rel="prefetch" href="/blog/assets/js/23.1b91c61e.js"><link rel="prefetch" href="/blog/assets/js/6.a442e902.js"><link rel="prefetch" href="/blog/assets/js/7.3b8ed094.js"><link rel="prefetch" href="/blog/assets/js/8.60e317d7.js"><link rel="prefetch" href="/blog/assets/js/9.7861f7c7.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.df6abdac.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e22947dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">Junlapong's Blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">Junlapong's Blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><h1 class="post-title">Setup SSL cert for dev environment with mkcert</h1> <div class="post-meta"><div class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> Junlapong
    <span> ¬† in Damnoen Saduak</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> 2019-07-30
  </div> <ul class="post-meta-tags"><li class="post-tag" data-v-d832e844><a href="/blog/tag/security" data-v-d832e844> security </a></li></ul></div> <div class="content__default"><p>‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö web server ‡πÅ‡∏ö‡∏ö https ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞ gen self sign cert ‡πÄ‡∏ä‡πà‡∏ô  ‡πÉ‡∏ä‡πâ <code>openssl</code> ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î DNS ‡πÅ‡∏ö‡∏ö SAN ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡πá‡∏à‡∏∞‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏û‡∏≠‡πÄ‡∏õ‡∏¥‡∏î URL ‡∏î‡πâ‡∏ß‡∏¢ web browser ‡∏Å‡πá‡∏à‡∏∞‡πÇ‡∏î‡∏ô‡∏î‡πà‡∏≤‡∏ï‡∏•‡∏≠‡∏î‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏î allow ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÑ‡∏õ</p> <p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ô‡∏µ‡πâ‡∏ú‡∏°‡∏à‡∏∞‡∏°‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ <a href="https://github.com/FiloSottile/mkcert" target="_blank" rel="noopener noreferrer">mkcert<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ‡πÄ‡∏õ‡πá‡∏ô tools ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏ä‡πà‡∏ß‡∏¢ generate ssl cert ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Å‡∏ß‡πà‡∏≤ tools ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£ trust CA cert ‡πÅ‡∏•‡∏∞ update trust store ‡∏Ç‡∏≠‡∏á OS ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢</p> <p><img src="/blog/images/splash/green-lock.jpg" alt=""></p> <h2 id="tl-dr"><a href="#tl-dr" class="header-anchor">#</a> TL;DR</h2> <p>‡∏¢‡∏≤‡∏ß‡πÑ‡∏õ‡πÑ‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô ‡∏Ç‡∏≠‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏•‡∏¢</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkcert -install
$ mkcert domain.com &quot;*.domain.com&quot; localhost 127.0.0.1 ::1
</code></pre></div><p>‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå public/private cert ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏à‡∏ö !!!</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á <code>mkcert</code> ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ trust root CA ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö Firefox ‡∏î‡πâ‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á <code>nss</code> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p> <div class="language- extra-class"><pre class="language-text"><code>$ brew install mkcert
$ brew install nss
</code></pre></div><h2 id="setup-ssl-cert-for-local-dev"><a href="#setup-ssl-cert-for-local-dev" class="header-anchor">#</a> Setup SSL Cert for Local Dev</h2> <h3 id="_1-install-local-root-ca"><a href="#_1-install-local-root-ca" class="header-anchor">#</a> 1. Install Local Root CA</h3> <p>‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á root CA ‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkcert -install
</code></pre></div><p>‡∏™‡∏£‡πâ‡∏≤‡∏á local root CA ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà <code>/Users/username/Library/Application Support/mkcert</code> ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå private &amp; public cert ‡∏Ñ‡∏∑‡∏≠ <code>rootCA-key.pem</code> ‡πÅ‡∏•‡∏∞ <code>rootCA.pem</code></p> <p>‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π path ‡∏Ç‡∏≠‡∏á root CA ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkcert -CAROOT
</code></pre></div><p>‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ install mkcert ‡∏ô‡∏±‡πâ‡∏ô ‡∏à‡∏∞‡∏ó‡∏≥ trust root CA ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà trust store ‡∏Ç‡∏≠‡∏á OS ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Web Browser ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ trust store ‡∏Ç‡∏≠‡∏á OS ‡∏≠‡∏¢‡πà‡∏≤‡∏á Chrome ‡∏´‡∏£‡∏∑‡∏≠ Safari ‡∏à‡∏∞ trust certificate ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢ CA ‡∏ô‡∏µ‡πâ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡∏¥‡∏î url https ‡∏ó‡∏µ‡πà address bar ‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á</p> <h3 id="_2-generate-ssl-cert"><a href="#_2-generate-ssl-cert" class="header-anchor">#</a> 2. Generate SSL Cert</h3> <p>‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á SSL certificate ‡πÅ‡∏ö‡∏ö wild card ‡∏ä‡∏∑‡πà‡∏≠ <code>*.somebank.com</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö sub domain ‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô <code>dev.somebank.com</code> ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkcert somebank.com &quot;*.somebank.com&quot; localhost 127.0.0.1 ::1
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Created a new certificate valid for the following names üìú
 - &quot;somebank.com&quot;
 - &quot;*.somebank.com&quot;
 - &quot;localhost&quot;
 - &quot;127.0.0.1&quot;
 - &quot;::1&quot;

The certificate is at &quot;./somebank.com+4.pem&quot; and the key at &quot;./somebank.com+4-key.pem&quot; ‚úÖ
</code></pre></div><p>‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡πÑ‡∏î‡πâ cert ‡∏°‡∏≤ 2 ‡πÑ‡∏ü‡∏•‡πå ‡∏Ñ‡∏∑‡∏≠ public key ‡∏ä‡∏∑‡πà‡∏≠ <code>somebank.com+4.pem</code> ‡πÅ‡∏•‡∏∞ private key ‡∏ä‡∏∑‡πà‡∏≠ <code>somebank.com+4-key.pem</code></p> <p>‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á cert ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á OpenSSL ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p> <div class="language- extra-class"><pre class="language-text"><code>$ openssl x509 -in somebank.com+4.pem -text -noout 

Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            ed:66:a7:8c:8e:e2:61:d4:f3:dc:aa:c8:99:a7:42:e9
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: O=mkcert development CA, OU=junlapong@PHOENIX-MKIII.local, CN=mkcert junlapong@PHOENIX-MKIII.local
        Validity
            Not Before: Jul 30 04:27:49 2019 GMT
            Not After : Jul 30 04:27:49 2029 GMT
        Subject: O=mkcert development certificate, OU=junlapong@PHOENIX-MKIII.local
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
...

</code></pre></div><p>‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡∏∑‡πà‡∏≠ DNS ‡πÉ‡∏ä‡πâ grep ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏≠‡∏≤ ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p> <div class="language- extra-class"><pre class="language-text"><code>$ openssl x509 -in somebank.com+4.pem -text -noout | grep &quot;DNS:&quot;

DNS:somebank.com, DNS:*.somebank.com, DNS:localhost, IP Address:127.0.0.1, IP Address:0:0:0:0:0:0:0:1
</code></pre></div><h3 id="_3-add-local-dns-name"><a href="#_3-add-local-dns-name" class="header-anchor">#</a> 3. Add Local DNS Name</h3> <p>‡πÉ‡∏ä‡πâ editor ‡∏ó‡∏µ‡πà‡∏ñ‡∏ô‡∏±‡∏î ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå <code>/etc/hosts</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° DNS Name ‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡∏Å‡πÑ‡∏ß‡πâ‡∏Å‡∏±‡∏ö IP 127.0.0.1</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo vi /etc/hosts
</code></pre></div><p>‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° DNS Name <code>dev.somebank.com</code></p> <div class="language- extra-class"><pre class="language-text"><code>127.0.0.1	localhost dev.somebank.com
</code></pre></div><h3 id="_4-example"><a href="#_4-example" class="header-anchor">#</a> 4. Example</h3> <p>‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á HTTP/2 server ‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤ Go ‡∏Å‡∏±‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå <code>main.go</code>
‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î path ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö public &amp; private certs ‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;net/http&quot;</span>

	<span class="token string">&quot;golang.org/x/net/http2&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> srv http<span class="token punctuation">.</span>Server
	srv<span class="token punctuation">.</span>Addr <span class="token operator">=</span> <span class="token string">&quot;:443&quot;</span>

	<span class="token comment">//Enable http2</span>
	http2<span class="token punctuation">.</span><span class="token function">ConfigureServer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>srv<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> homePage<span class="token punctuation">)</span>

	srv<span class="token punctuation">.</span><span class="token function">ListenAndServeTLS</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/certs/somebank.com.pem&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/path/to/certs/somebank.com-key.pem&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">homePage</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	w<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;&lt;center&gt; Hello from Go! &lt;/h1&gt;&lt;/center&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre></div><p>‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</p> <div class="language- extra-class"><pre class="language-text"><code>$ go run main.go
</code></pre></div><p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏¥‡∏î URL https://dev.somebank.com ‡∏î‡πâ‡∏ß‡∏¢ FireFox ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏•‡∏π‡∏Å‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏ó‡∏µ‡πà address bar ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß üòÑ
‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ Chrome ‡πÅ‡∏•‡∏∞ Safari ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏ó‡∏µ‡πà address bar ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏ó‡∏≤</p> <p><img src="/images/https-firefox.png" alt=""></p> <p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ <code>curl</code></p> <div class="language- extra-class"><pre class="language-text"><code>$ export CAROOT=&quot;`mkcert -CAROOT`&quot;
$ curl --cacert &quot;$CAROOT/rootCA.pem&quot; -I https://dev.somebank.com

HTTP/2 200 
content-type: text/html; charset=utf-8
content-length: 42
date: Tue, 30 Jul 2019 04:37:38 GMT
</code></pre></div><p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ <code>HTTPie</code></p> <div class="language- extra-class"><pre class="language-text"><code>$ http --verify=no https://dev.somebank.com

HTTP/1.1 200 OK
Content-Length: 42
Content-Type: text/html; charset=utf-8
Date: Tue, 30 Jul 2019 04:47:39 GMT

&lt;h1&gt;&lt;center&gt; Hello from Go! &lt;/h1&gt;&lt;/center&gt;
</code></pre></div><h2 id="‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á"><a href="#‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á" class="header-anchor">#</a> ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</h2> <ul><li>https://github.com/FiloSottile/mkcert</li> <li>https://github.com/Shyp/generate-tls-cert</li></ul></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#tl-dr" title="TL;DR">TL;DR</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#installation" title="Installation">Installation</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#setup-ssl-cert-for-local-dev" title="Setup SSL Cert for Local Dev">Setup SSL Cert for Local Dev</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-install-local-root-ca" title="1. Install Local Root CA">1. Install Local Root CA</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-generate-ssl-cert" title="2. Generate SSL Cert">2. Generate SSL Cert</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-add-local-dns-name" title="3. Add Local DNS Name">3. Add Local DNS Name</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-example" title="4. Example">4. Example</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á" title="‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á">‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</a></div></div></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766><li class="contact-item" data-v-582f9766><a href="https://github.com/junlapong" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-582f9766><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-582f9766></path></svg>
          
        </a></li><li class="contact-item" data-v-582f9766><a href="mailto:junlapong@gmail.com" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-582f9766><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-582f9766></path><polyline points="22,6 12,13 2,6" data-v-582f9766></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766><li class="copyright-item" data-v-582f9766><a href="/blog/" class="nav-link" data-v-582f9766>Junlapong L. ¬© 2021</a></li></ul></div></footer></div><div class="global-ui"><!----><SWUpdatePopup></SWUpdatePopup></div></div>
    <script src="/blog/assets/js/app.4718c9bd.js" defer></script><script src="/blog/assets/js/4.256dfcde.js" defer></script><script src="/blog/assets/js/5.6a38e0c8.js" defer></script><script src="/blog/assets/js/19.f8d03eba.js" defer></script>
  </body>
</html>
